<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SonarCheck - Rock vs Mine Detection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>

<body>
    <!-- NAVBAR -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="/" class="brand">
                <i class="fas fa-water"></i> SonarCheck
            </a>
            <ul class="nav-links">
                <li><a href="/" class="active">Predict</a></li>
                <li><a href="/about">About</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <!-- HERO SECTION -->
        <section class="hero">
            <h1>SONAR Object Detection</h1>
            <p>Advanced AI system for classifying underwater objects using multi-frequency SONAR data.</p>
        </section>

        <!-- FORM SECTION -->
        <div class="card">
            <div class="form-section">
                <h2><i class="fas fa-wave-square"></i> Frequency Data Input</h2>
                <p class="text-muted mb-4">
                    Enter normalized amplitude values (0.0 - 1.0) for the 60 frequency bands.
                </p>

                {% if error %}
                <div
                    style="background: rgba(244, 63, 94, 0.1); border: 1px solid var(--danger); padding: 15px; border-radius: 8px; margin-bottom: 20px; color: var(--danger);">
                    <i class="fas fa-exclamation-circle"></i> {{ error }}
                </div>
                {% endif %}

                <form method="POST" id="predictionForm">
                    <!-- Quick Fill Options -->
                    <div
                        style="background: var(--bg-input); padding: 15px; border-radius: 8px; margin-bottom: 25px; border: 1px solid var(--border);">
                        <p style="font-size: 0.9rem; margin-bottom: 10px; color: var(--text-muted);">
                            <i class="fas fa-bolt text-primary"></i> <strong>Quick Fill:</strong> Load sample data to
                            test the model.
                        </p>
                        <div style="display: flex; gap: 10px;">
                            <button type="button" class="btn btn-secondary" onclick="loadSampleRock()"
                                style="font-size: 0.85rem; padding: 8px 16px;">
                                <i class="fas fa-rock"></i> Load Rock Sample
                            </button>
                            <button type="button" class="btn btn-secondary" onclick="loadSampleMine()"
                                style="font-size: 0.85rem; padding: 8px 16px;">
                                <i class="fas fa-bomb"></i> Load Mine Sample
                            </button>
                        </div>
                    </div>

                    <!-- Frequency Grid -->
                    <div class="frequency-grid">
                        {% for i in range(60) %}
                        <div class="freq-input">
                            <label for="freq_{{ i }}">Band {{ i }}</label>
                            <input type="number" id="freq_{{ i }}" name="freq_{{ i }}" min="0" max="1" step="0.01"
                                value="0.5" required>
                        </div>
                        {% endfor %}
                    </div>

                    <div class="btn-group">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-search"></i> Analyze Signal
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- SPECS SECTION -->
        <div class="card">
            <div class="form-section">
                <h2><i class="fas fa-info-circle"></i> System Specifications</h2>
                <div
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div>
                        <h3 style="color: var(--text-main); font-size: 1rem; margin-bottom: 5px;">Frequency Bands</h3>
                        <p class="text-muted">60 bands (11.25 kHz - 100 kHz)</p>
                    </div>
                    <div>
                        <h3 style="color: var(--text-main); font-size: 1rem; margin-bottom: 5px;">Equipment</h3>
                        <p class="text-muted">Goodman Tonals & Mirrorbird</p>
                    </div>
                    <div>
                        <h3 style="color: var(--text-main); font-size: 1rem; margin-bottom: 5px;">Application</h3>
                        <p class="text-muted">Mine Detection & Navigation</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="footer">
        <p><strong>SonarCheck</strong> &copy; 2025</p>
        <p style="font-size: 0.9rem; margin-top: 10px;">
            Powered by Machine Learning | <a href="/about">About Project</a>
        </p>
    </footer>

    <script>
        function loadSampleRock() {
            const rockPattern = [
                0.02, 0.04, 0.05, 0.03, 0.10, 0.10, 0.15, 0.16, 0.31, 0.21,
                0.16, 0.16, 0.22, 0.07, 0.07, 0.23, 0.31, 0.30, 0.51, 0.48,
                0.58, 0.51, 0.43, 0.56, 0.67, 0.64, 0.71, 0.81, 0.68, 0.39,
                0.13, 0.26, 0.51, 0.75, 0.85, 0.85, 0.67, 0.61, 0.49, 0.27,
                0.05, 0.28, 0.28, 0.43, 0.26, 0.14, 0.11, 0.13, 0.04, 0.03,
                0.02, 0.03, 0.07, 0.02, 0.07, 0.02, 0.02, 0.01, 0.01, 0.00
            ];

            for (let i = 0; i < 60; i++) {
                const input = document.getElementById(`freq_${i}`);
                if (input) {
                    input.value = rockPattern[i].toFixed(2);
                    // Add a flash effect
                    input.style.borderColor = 'var(--secondary)';
                    setTimeout(() => input.style.borderColor = '', 500);
                }
            }
        }

        function loadSampleMine() {
            const minePattern = [
                0.01, 0.02, 0.03, 0.03, 0.06, 0.07, 0.12, 0.14, 0.15, 0.18,
                0.21, 0.25, 0.28, 0.35, 0.42, 0.55, 0.62, 0.72, 0.80, 0.85,
                0.89, 0.92, 0.88, 0.79, 0.71, 0.68, 0.64, 0.58, 0.52, 0.48,
                0.42, 0.38, 0.35, 0.31, 0.28, 0.24, 0.20, 0.17, 0.15, 0.12,
                0.10, 0.08, 0.07, 0.06, 0.05, 0.04, 0.03, 0.03, 0.02, 0.02,
                0.02, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.00
            ];

            for (let i = 0; i < 60; i++) {
                const input = document.getElementById(`freq_${i}`);
                if (input) {
                    input.value = minePattern[i].toFixed(2);
                    // Add a flash effect
                    input.style.borderColor = 'var(--danger)';
                    setTimeout(() => input.style.borderColor = '', 500);
                }
            }
        }
    </script>
</body>

</html>